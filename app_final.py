import streamlit as st
import time

# --- OTURUM DURUMU (SESSION STATE) BAÅžLANGIÃ‡ AYARLARI ---
ADMIN_PASSWORD = "123"
MOCK_USERS = [
    {"username": "yusuf", "email": "yusuf@mail.com", "password_hash": "y123"},
    {"username": "efe", "email": "efe@mail.com", "password_hash": "e456"},
]

# VarsayÄ±lan Not KartlarÄ± - GÃœNCELLENMÄ°Åž LÄ°STE
DEFAULT_NOTLAR = {
    "Matematik": "Temel Fonksiyonlar",
    "TÃ¼rkÃ§e": "Dil Bilgisi KurallarÄ±",
    "Din KÃ¼ltÃ¼rÃ¼": "Temel Kavramlar",
    "Tarih": "Ã–nemli Olaylar ve DÃ¶nemler",
    "Sosyal Bilgiler": "Temel Sosyal Kavramlar", 
}

# Session State TanÄ±mlamalarÄ± (Mutlaka En Ãœstte OlmalÄ±)
if 'admin_mode' not in st.session_state:
    st.session_state['admin_mode'] = False
if 'user_logged_in' not in st.session_state:
    st.session_state['user_logged_in'] = False
if 'current_user' not in st.session_state:
    st.session_state['current_user'] = None
if 'app_color' not in st.session_state:
    st.session_state['app_color'] = '#FF4B4B'
if 'secilen_sayfa' not in st.session_state:
    st.session_state['secilen_sayfa'] = "HakkÄ±mda" 
if 'music_enabled' not in st.session_state:
    st.session_state['music_enabled'] = True 
if 'music_url' not in st.session_state:
    st.session_state['music_url'] = "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3"
if 'music_volume' not in st.session_state:
    st.session_state['music_volume'] = 0.5 
if 'show_admin_login' not in st.session_state:
    st.session_state['show_admin_login'] = False
if 'show_user_login' not in st.session_state:
    st.session_state['show_user_login'] = False
if 'show_user_register' not in st.session_state:
    st.session_state['show_user_register'] = False
if 'registration_allowed' not in st.session_state:
    st.session_state['registration_allowed'] = True
if 'user_login_allowed' not in st.session_state:
    st.session_state['user_login_allowed'] = True
if 'chat_history' not in st.session_state:
    st.session_state['chat_history'] = []
if 'announcement' not in st.session_state:
    st.session_state['announcement'] = "ðŸš€ HoÅŸ geldiniz! Portfolyomdaki projeleri keÅŸfedin."
if 'announcement_color' not in st.session_state:
    st.session_state['announcement_color'] = 'success'
if 'not_kartlari' not in st.session_state:
    st.session_state['not_kartlari'] = DEFAULT_NOTLAR.copy()


# --- SAYFA AYARLARI ---
st.set_page_config(
    page_title="Yusuf Efe Åžahin | Portfolyo",
    layout="wide",
    page_icon="ðŸ’¼" 
)

# --- PORTFOLYO Ä°Ã‡ERÄ°K FONKSÄ°YONU ---
def get_portfolyo_bilgisi(baslik):
    if baslik == "HakkÄ±mda":
        return ("Merhaba, ben Yusuf Efe
